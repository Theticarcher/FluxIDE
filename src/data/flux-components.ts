import { ComponentDefinition, ComponentCategory } from '../types/visual-editor';

// Common event definitions reused across components
const clickEvents = [
  { name: 'onClick', description: 'Triggered when clicked', eventObjectProps: ['target'] },
];

const inputEvents = [
  { name: 'onInput', description: 'Triggered on input change', eventObjectProps: ['target.value'] },
  { name: 'onChange', description: 'Triggered when value changes', eventObjectProps: ['target.value'] },
  { name: 'onFocus', description: 'Triggered when focused', eventObjectProps: ['target'] },
  { name: 'onBlur', description: 'Triggered when focus lost', eventObjectProps: ['target'] },
];

const mouseEvents = [
  { name: 'onMouseEnter', description: 'Mouse entered element', eventObjectProps: ['clientX', 'clientY'] },
  { name: 'onMouseLeave', description: 'Mouse left element', eventObjectProps: ['clientX', 'clientY'] },
];

// Helper to create common props
const createSizeProp = (defaultValue = 'medium') => ({
  name: 'size',
  type: 'select' as const,
  required: false,
  defaultValue,
  description: 'Size variant',
  options: ['small', 'medium', 'large'],
});

const createVariantProp = (options: string[], defaultValue = 'primary') => ({
  name: 'variant',
  type: 'select' as const,
  required: false,
  defaultValue,
  description: 'Visual variant',
  options,
});

const createDisabledProp = () => ({
  name: 'disabled',
  type: 'boolean' as const,
  required: false,
  defaultValue: false,
  description: 'Disable interaction',
});

export const FLUX_COMPONENTS: ComponentDefinition[] = [
  // ============ LAYOUT COMPONENTS ============
  {
    name: 'Container',
    category: 'Layout',
    description: 'Centered container with max-width',
    icon: 'box',
    props: [
      { name: 'maxWidth', type: 'string', required: false, defaultValue: '1200px', description: 'Maximum width', placeholder: '1200px' },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;text-align:center;border-radius:4px">Container</div>',
  },
  {
    name: 'Flex',
    category: 'Layout',
    description: 'Flexbox container for flexible layouts',
    icon: 'columns-3',
    props: [
      { name: 'direction', type: 'select', required: false, defaultValue: 'row', description: 'Flex direction', options: ['row', 'column', 'row-reverse', 'column-reverse'] },
      { name: 'gap', type: 'string', required: false, defaultValue: '0', description: 'Gap between items', placeholder: '16px' },
      { name: 'align', type: 'select', required: false, defaultValue: 'stretch', description: 'Align items', options: ['flex-start', 'center', 'flex-end', 'stretch', 'baseline'] },
      { name: 'justify', type: 'select', required: false, defaultValue: 'flex-start', description: 'Justify content', options: ['flex-start', 'center', 'flex-end', 'space-between', 'space-around', 'space-evenly'] },
      { name: 'wrap', type: 'select', required: false, defaultValue: 'nowrap', description: 'Flex wrap', options: ['nowrap', 'wrap', 'wrap-reverse'] },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="display:flex;border:1px dashed #666;padding:8px;gap:4px;border-radius:4px"><span style="background:#444;padding:2px 6px;border-radius:2px">Flex</span></div>',
  },
  {
    name: 'Grid',
    category: 'Layout',
    description: 'CSS Grid container',
    icon: 'grid-3x3',
    props: [
      { name: 'cols', type: 'number', required: false, defaultValue: 3, description: 'Number of columns' },
      { name: 'gap', type: 'string', required: false, defaultValue: '16px', description: 'Gap between items', placeholder: '16px' },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:4px;border:1px dashed #666;padding:8px;border-radius:4px"><span style="background:#444;padding:2px">1</span><span style="background:#444;padding:2px">2</span><span style="background:#444;padding:2px">3</span></div>',
  },
  {
    name: 'Stack',
    category: 'Layout',
    description: 'Vertical stack with spacing',
    icon: 'layers',
    props: [
      { name: 'gap', type: 'string', required: false, defaultValue: '16px', description: 'Gap between items', placeholder: '16px' },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="display:flex;flex-direction:column;gap:4px;border:1px dashed #666;padding:8px;border-radius:4px"><span style="background:#444;padding:2px">Stack</span></div>',
  },
  {
    name: 'Box',
    category: 'Layout',
    description: 'Generic box container',
    icon: 'square',
    props: [
      { name: 'padding', type: 'string', required: false, defaultValue: '16px', description: 'Padding', placeholder: '16px' },
      { name: 'background', type: 'color', required: false, description: 'Background color' },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px">Box</div>',
  },
  {
    name: 'Spacer',
    category: 'Layout',
    description: 'Empty space element',
    icon: 'move-vertical',
    props: [
      { name: 'size', type: 'string', required: false, defaultValue: '16px', description: 'Space size', placeholder: '16px' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="border:1px dashed #444;padding:4px;text-align:center;color:#666;font-size:10px">Spacer</div>',
  },
  {
    name: 'Divider',
    category: 'Layout',
    description: 'Horizontal or vertical divider line',
    icon: 'minus',
    props: [
      { name: 'orientation', type: 'select', required: false, defaultValue: 'horizontal', description: 'Orientation', options: ['horizontal', 'vertical'] },
      { name: 'color', type: 'color', required: false, defaultValue: '#e5e7eb', description: 'Line color' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="border-top:1px solid #666;margin:8px 0"></div>',
  },
  {
    name: 'AspectRatio',
    category: 'Layout',
    description: 'Maintains aspect ratio',
    icon: 'ratio',
    props: [
      { name: 'ratio', type: 'string', required: false, defaultValue: '16/9', description: 'Aspect ratio (e.g., 16/9)', placeholder: '16/9' },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;text-align:center;border-radius:4px">16:9</div>',
  },
  {
    name: 'Center',
    category: 'Layout',
    description: 'Centers content horizontally and vertically',
    icon: 'align-center',
    props: [
      { name: 'height', type: 'string', required: false, defaultValue: '100%', description: 'Container height', placeholder: '200px' },
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="display:flex;align-items:center;justify-content:center;border:1px dashed #666;padding:8px;border-radius:4px">Center</div>',
  },
  {
    name: 'Section',
    category: 'Layout',
    description: 'Semantic section wrapper',
    icon: 'layout',
    props: [],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px">Section</div>',
  },

  // ============ TYPOGRAPHY COMPONENTS ============
  {
    name: 'Text',
    category: 'Typography',
    description: 'Styled text element',
    icon: 'type',
    props: [
      { name: 'content', type: 'string', required: false, defaultValue: 'Text content', description: 'Text content', placeholder: 'Enter text...' },
      { name: 'variant', type: 'select', required: false, defaultValue: 'body', description: 'Text variant', options: ['body', 'muted', 'small', 'large', 'heading'] },
      { name: 'color', type: 'color', required: false, description: 'Text color' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<span style="color:#ccc">Text</span>',
  },
  {
    name: 'Heading',
    category: 'Typography',
    description: 'Semantic heading (h1-h6)',
    icon: 'heading',
    props: [
      { name: 'content', type: 'string', required: false, defaultValue: 'Heading', description: 'Heading text', placeholder: 'Enter heading...' },
      { name: 'level', type: 'select', required: false, defaultValue: '1', description: 'Heading level', options: ['1', '2', '3', '4', '5', '6'] },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<span style="font-weight:bold;font-size:16px">Heading</span>',
  },
  {
    name: 'Link',
    category: 'Typography',
    description: 'Styled anchor link',
    icon: 'link',
    props: [
      { name: 'text', type: 'string', required: false, defaultValue: 'Link', description: 'Link text', placeholder: 'Link text' },
      { name: 'href', type: 'string', required: true, defaultValue: '#', description: 'Link URL', placeholder: 'https://...' },
      { name: 'external', type: 'boolean', required: false, defaultValue: false, description: 'Open in new tab' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<span style="color:#3b82f6;text-decoration:underline">Link</span>',
  },
  {
    name: 'Code',
    category: 'Typography',
    description: 'Inline code formatting',
    icon: 'code',
    props: [
      { name: 'content', type: 'string', required: false, defaultValue: 'code', description: 'Code content', placeholder: 'code here' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<code style="background:#333;padding:2px 4px;border-radius:2px;font-family:monospace">code</code>',
  },
  {
    name: 'CodeBlock',
    category: 'Typography',
    description: 'Multi-line code block',
    icon: 'file-code',
    props: [
      { name: 'code', type: 'string', required: false, defaultValue: '// code here', description: 'Code content', placeholder: 'Enter code...' },
      { name: 'language', type: 'string', required: false, defaultValue: 'javascript', description: 'Programming language', placeholder: 'javascript' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<pre style="background:#333;padding:8px;border-radius:4px;font-family:monospace;font-size:11px">code block</pre>',
  },
  {
    name: 'Blockquote',
    category: 'Typography',
    description: 'Styled quotation',
    icon: 'quote',
    props: [
      { name: 'content', type: 'string', required: false, defaultValue: 'Quote text', description: 'Quote content', placeholder: 'Enter quote...' },
      { name: 'cite', type: 'string', required: false, description: 'Citation source', placeholder: 'Author name' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<blockquote style="border-left:3px solid #666;padding-left:8px;color:#aaa;font-style:italic">"Quote"</blockquote>',
  },
  {
    name: 'List',
    category: 'Typography',
    description: 'Ordered or unordered list',
    icon: 'list',
    props: [
      { name: 'items', type: 'array', required: false, defaultValue: ['Item 1', 'Item 2', 'Item 3'], description: 'List items' },
      { name: 'ordered', type: 'boolean', required: false, defaultValue: false, description: 'Numbered list' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<ul style="margin:0;padding-left:16px;font-size:11px"><li>Item 1</li><li>Item 2</li></ul>',
  },
  {
    name: 'Paragraph',
    category: 'Typography',
    description: 'Paragraph wrapper',
    icon: 'pilcrow',
    props: [
      { name: 'content', type: 'string', required: false, defaultValue: 'Paragraph text', description: 'Paragraph content', placeholder: 'Enter text...' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<p style="margin:0;color:#ccc">Paragraph</p>',
  },
  {
    name: 'Label',
    category: 'Typography',
    description: 'Form label',
    icon: 'tag',
    props: [
      { name: 'text', type: 'string', required: false, defaultValue: 'Label', description: 'Label text', placeholder: 'Label text' },
      { name: 'for', type: 'string', required: false, description: 'Associated input ID', placeholder: 'input-id' },
      { name: 'required', type: 'boolean', required: false, defaultValue: false, description: 'Show required indicator' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<label style="font-size:12px;color:#ccc">Label</label>',
  },

  // ============ BUTTON COMPONENTS ============
  {
    name: 'Button',
    category: 'Button',
    description: 'Interactive button',
    icon: 'mouse-pointer-click',
    props: [
      { name: 'text', type: 'string', required: false, defaultValue: 'Button', description: 'Button text', placeholder: 'Button text' },
      createVariantProp(['primary', 'secondary', 'outline', 'ghost', 'danger']),
      createSizeProp(),
      createDisabledProp(),
    ],
    events: [...clickEvents, ...mouseEvents],
    acceptsChildren: false,
    preview: '<button style="background:#3b82f6;color:white;border:none;padding:6px 12px;border-radius:4px;cursor:pointer">Button</button>',
  },
  {
    name: 'IconButton',
    category: 'Button',
    description: 'Icon-only button',
    icon: 'circle-dot',
    props: [
      { name: 'icon', type: 'string', required: true, defaultValue: 'settings', description: 'Icon name', placeholder: 'settings' },
      { name: 'label', type: 'string', required: true, defaultValue: 'Settings', description: 'Accessible label', placeholder: 'Button label' },
      createVariantProp(['primary', 'secondary', 'outline', 'ghost']),
      createSizeProp(),
      createDisabledProp(),
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<button style="background:#3b82f6;color:white;border:none;padding:6px;border-radius:4px;width:28px;height:28px">*</button>',
  },
  {
    name: 'ButtonGroup',
    category: 'Button',
    description: 'Groups related buttons',
    icon: 'group',
    props: [
      { name: 'orientation', type: 'select', required: false, defaultValue: 'horizontal', description: 'Button arrangement', options: ['horizontal', 'vertical'] },
      { name: 'attached', type: 'boolean', required: false, defaultValue: false, description: 'Remove gap between buttons' },
    ],
    events: [],
    acceptsChildren: true,
    childrenTypes: ['Button', 'IconButton'],
    preview: '<div style="display:flex;gap:2px"><span style="background:#3b82f6;color:white;padding:4px 8px;border-radius:4px 0 0 4px;font-size:11px">A</span><span style="background:#3b82f6;color:white;padding:4px 8px;border-radius:0 4px 4px 0;font-size:11px">B</span></div>',
  },

  // ============ FORM COMPONENTS ============
  {
    name: 'Input',
    category: 'Form',
    description: 'Text input field',
    icon: 'text-cursor-input',
    props: [
      { name: 'type', type: 'select', required: false, defaultValue: 'text', description: 'Input type', options: ['text', 'email', 'password', 'number', 'tel', 'url', 'search'] },
      { name: 'placeholder', type: 'string', required: false, description: 'Placeholder text', placeholder: 'Enter placeholder...' },
      { name: 'value', type: 'expression', required: false, description: 'Bound value (state variable)', placeholder: 'inputValue' },
      createDisabledProp(),
    ],
    events: [...inputEvents],
    acceptsChildren: false,
    preview: '<input type="text" placeholder="Input" style="background:#333;border:1px solid #555;color:#fff;padding:6px 8px;border-radius:4px;width:80px" />',
  },
  {
    name: 'Textarea',
    category: 'Form',
    description: 'Multi-line text input',
    icon: 'text',
    props: [
      { name: 'placeholder', type: 'string', required: false, description: 'Placeholder text', placeholder: 'Enter placeholder...' },
      { name: 'rows', type: 'number', required: false, defaultValue: 3, description: 'Number of rows' },
      { name: 'value', type: 'expression', required: false, description: 'Bound value', placeholder: 'textValue' },
      createDisabledProp(),
    ],
    events: [...inputEvents],
    acceptsChildren: false,
    preview: '<textarea placeholder="Textarea" style="background:#333;border:1px solid #555;color:#fff;padding:6px 8px;border-radius:4px;width:80px;height:40px;resize:none"></textarea>',
  },
  {
    name: 'Select',
    category: 'Form',
    description: 'Dropdown selection',
    icon: 'chevron-down',
    props: [
      { name: 'options', type: 'array', required: false, defaultValue: ['Option 1', 'Option 2', 'Option 3'], description: 'Select options' },
      { name: 'placeholder', type: 'string', required: false, defaultValue: 'Select...', description: 'Placeholder text' },
      { name: 'value', type: 'expression', required: false, description: 'Bound value', placeholder: 'selectedValue' },
      createDisabledProp(),
    ],
    events: [{ name: 'onChange', description: 'Selection changed', eventObjectProps: ['target.value'] }],
    acceptsChildren: false,
    preview: '<select style="background:#333;border:1px solid #555;color:#fff;padding:6px 8px;border-radius:4px"><option>Select</option></select>',
  },
  {
    name: 'Checkbox',
    category: 'Form',
    description: 'Boolean checkbox',
    icon: 'check-square',
    props: [
      { name: 'label', type: 'string', required: false, defaultValue: 'Checkbox', description: 'Label text', placeholder: 'Label' },
      { name: 'checked', type: 'expression', required: false, description: 'Checked state', placeholder: 'isChecked' },
      createDisabledProp(),
    ],
    events: [{ name: 'onChange', description: 'Checked state changed', eventObjectProps: ['target.checked'] }],
    acceptsChildren: false,
    preview: '<label style="display:flex;align-items:center;gap:4px;font-size:11px;color:#ccc"><input type="checkbox" />Checkbox</label>',
  },
  {
    name: 'Radio',
    category: 'Form',
    description: 'Radio button option',
    icon: 'circle',
    props: [
      { name: 'name', type: 'string', required: true, defaultValue: 'radio-group', description: 'Group name', placeholder: 'group-name' },
      { name: 'value', type: 'string', required: true, defaultValue: 'option1', description: 'Option value', placeholder: 'value' },
      { name: 'label', type: 'string', required: false, defaultValue: 'Radio', description: 'Label text', placeholder: 'Label' },
      { name: 'checked', type: 'expression', required: false, description: 'Checked state', placeholder: 'selected === "option1"' },
      createDisabledProp(),
    ],
    events: [{ name: 'onChange', description: 'Selection changed', eventObjectProps: ['target.value'] }],
    acceptsChildren: false,
    preview: '<label style="display:flex;align-items:center;gap:4px;font-size:11px;color:#ccc"><input type="radio" />Radio</label>',
  },
  {
    name: 'Switch',
    category: 'Form',
    description: 'Toggle switch',
    icon: 'toggle-left',
    props: [
      { name: 'label', type: 'string', required: false, defaultValue: 'Switch', description: 'Label text', placeholder: 'Label' },
      { name: 'checked', type: 'expression', required: false, description: 'Checked state', placeholder: 'isEnabled' },
      createDisabledProp(),
    ],
    events: [{ name: 'onChange', description: 'Toggle changed', eventObjectProps: ['target.checked'] }],
    acceptsChildren: false,
    preview: '<div style="display:flex;align-items:center;gap:4px"><div style="width:32px;height:18px;background:#555;border-radius:9px;position:relative"><div style="width:14px;height:14px;background:#fff;border-radius:50%;position:absolute;top:2px;left:2px"></div></div><span style="font-size:11px;color:#ccc">Switch</span></div>',
  },
  {
    name: 'Slider',
    category: 'Form',
    description: 'Range slider',
    icon: 'sliders-horizontal',
    props: [
      { name: 'min', type: 'number', required: false, defaultValue: 0, description: 'Minimum value' },
      { name: 'max', type: 'number', required: false, defaultValue: 100, description: 'Maximum value' },
      { name: 'value', type: 'expression', required: false, defaultValue: '50', description: 'Current value', placeholder: 'sliderValue' },
      { name: 'step', type: 'number', required: false, defaultValue: 1, description: 'Step increment' },
      createDisabledProp(),
    ],
    events: [...inputEvents],
    acceptsChildren: false,
    preview: '<input type="range" style="width:80px" />',
  },
  {
    name: 'FormGroup',
    category: 'Form',
    description: 'Grouped form element with label',
    icon: 'form-input',
    props: [
      { name: 'label', type: 'string', required: false, defaultValue: 'Field', description: 'Label text', placeholder: 'Label' },
      { name: 'required', type: 'boolean', required: false, defaultValue: false, description: 'Required field' },
      { name: 'error', type: 'string', required: false, description: 'Error message', placeholder: 'Error message' },
      { name: 'hint', type: 'string', required: false, description: 'Help text', placeholder: 'Help text' },
    ],
    events: [],
    acceptsChildren: true,
    childrenTypes: ['Input', 'Textarea', 'Select', 'Checkbox', 'Radio', 'Switch', 'Slider'],
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px"><span style="font-size:10px;color:#888">FormGroup</span></div>',
  },

  // ============ FEEDBACK COMPONENTS ============
  {
    name: 'Alert',
    category: 'Feedback',
    description: 'Contextual alert message',
    icon: 'alert-circle',
    props: [
      { name: 'type', type: 'select', required: false, defaultValue: 'info', description: 'Alert type', options: ['info', 'success', 'warning', 'error'] },
      { name: 'message', type: 'string', required: true, defaultValue: 'Alert message', description: 'Alert content', placeholder: 'Message' },
      { name: 'dismissible', type: 'boolean', required: false, defaultValue: false, description: 'Can be dismissed' },
    ],
    events: [{ name: 'onDismiss', description: 'Alert dismissed', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="background:#1e3a5f;border:1px solid #3b82f6;color:#93c5fd;padding:8px;border-radius:4px;font-size:11px">Info alert</div>',
  },
  {
    name: 'Badge',
    category: 'Feedback',
    description: 'Status indicator badge',
    icon: 'badge',
    props: [
      { name: 'text', type: 'string', required: true, defaultValue: 'Badge', description: 'Badge text', placeholder: 'Badge' },
      createVariantProp(['default', 'primary', 'secondary', 'success', 'warning', 'danger'], 'default'),
    ],
    events: [],
    acceptsChildren: false,
    preview: '<span style="background:#3b82f6;color:white;padding:2px 8px;border-radius:9999px;font-size:10px">Badge</span>',
  },
  {
    name: 'Spinner',
    category: 'Feedback',
    description: 'Loading spinner',
    icon: 'loader-2',
    props: [
      createSizeProp(),
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="width:20px;height:20px;border:2px solid #333;border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite"></div>',
  },
  {
    name: 'Progress',
    category: 'Feedback',
    description: 'Progress bar',
    icon: 'bar-chart-horizontal',
    props: [
      { name: 'value', type: 'number', required: false, defaultValue: 50, description: 'Progress value (0-100)' },
      { name: 'max', type: 'number', required: false, defaultValue: 100, description: 'Maximum value' },
      { name: 'showLabel', type: 'boolean', required: false, defaultValue: false, description: 'Show percentage label' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="background:#333;border-radius:4px;height:8px;overflow:hidden"><div style="background:#3b82f6;height:100%;width:50%"></div></div>',
  },
  {
    name: 'ProgressCircle',
    category: 'Feedback',
    description: 'Circular progress indicator',
    icon: 'pie-chart',
    props: [
      { name: 'value', type: 'number', required: false, defaultValue: 50, description: 'Progress value (0-100)' },
      createSizeProp(),
      { name: 'strokeWidth', type: 'number', required: false, defaultValue: 4, description: 'Stroke width' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="width:24px;height:24px;border:3px solid #333;border-top-color:#3b82f6;border-radius:50%"></div>',
  },
  {
    name: 'Skeleton',
    category: 'Feedback',
    description: 'Loading placeholder',
    icon: 'rectangle-horizontal',
    props: [
      { name: 'width', type: 'string', required: false, defaultValue: '100%', description: 'Width', placeholder: '100%' },
      { name: 'height', type: 'string', required: false, defaultValue: '20px', description: 'Height', placeholder: '20px' },
      { name: 'variant', type: 'select', required: false, defaultValue: 'rect', description: 'Shape variant', options: ['text', 'circle', 'rect'] },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="background:linear-gradient(90deg,#333 25%,#444 50%,#333 75%);height:16px;border-radius:4px"></div>',
  },
  {
    name: 'Toast',
    category: 'Feedback',
    description: 'Temporary notification',
    icon: 'message-square',
    props: [
      { name: 'message', type: 'string', required: true, defaultValue: 'Toast message', description: 'Toast content', placeholder: 'Message' },
      { name: 'type', type: 'select', required: false, defaultValue: 'info', description: 'Toast type', options: ['info', 'success', 'warning', 'error'] },
      { name: 'duration', type: 'number', required: false, defaultValue: 3000, description: 'Duration in ms' },
    ],
    events: [{ name: 'onClose', description: 'Toast closed', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="background:#1f2937;border:1px solid #374151;color:#fff;padding:8px 12px;border-radius:4px;font-size:11px;box-shadow:0 4px 6px rgba(0,0,0,0.3)">Toast</div>',
  },
  {
    name: 'NotificationBadge',
    category: 'Feedback',
    description: 'Notification counter',
    icon: 'bell-dot',
    props: [
      { name: 'count', type: 'number', required: false, defaultValue: 1, description: 'Notification count' },
      { name: 'max', type: 'number', required: false, defaultValue: 99, description: 'Max displayed count' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="position:relative;display:inline-block"><span style="font-size:16px">*</span><span style="position:absolute;top:-4px;right:-4px;background:#ef4444;color:white;font-size:9px;padding:1px 4px;border-radius:9999px">3</span></div>',
  },

  // ============ NAVIGATION COMPONENTS ============
  {
    name: 'Nav',
    category: 'Navigation',
    description: 'Navigation container',
    icon: 'navigation',
    props: [
      { name: 'orientation', type: 'select', required: false, defaultValue: 'horizontal', description: 'Nav orientation', options: ['horizontal', 'vertical'] },
    ],
    events: [],
    acceptsChildren: true,
    childrenTypes: ['NavItem'],
    preview: '<nav style="display:flex;gap:8px;border:1px dashed #666;padding:8px;border-radius:4px"><span style="color:#3b82f6;font-size:11px">Nav</span></nav>',
  },
  {
    name: 'NavItem',
    category: 'Navigation',
    description: 'Navigation link item',
    icon: 'link',
    props: [
      { name: 'text', type: 'string', required: false, defaultValue: 'Nav Item', description: 'Link text', placeholder: 'Link text' },
      { name: 'href', type: 'string', required: false, defaultValue: '#', description: 'Link URL', placeholder: '/page' },
      { name: 'active', type: 'boolean', required: false, defaultValue: false, description: 'Active state' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<a style="color:#3b82f6;font-size:11px;text-decoration:none">NavItem</a>',
  },
  {
    name: 'Breadcrumb',
    category: 'Navigation',
    description: 'Hierarchical path navigation',
    icon: 'chevrons-right',
    props: [
      { name: 'items', type: 'array', required: false, defaultValue: [{ label: 'Home', href: '/' }, { label: 'Page', href: '/page' }], description: 'Breadcrumb items' },
      { name: 'separator', type: 'string', required: false, defaultValue: '/', description: 'Separator character' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="display:flex;gap:4px;font-size:11px;color:#888">Home / Page</div>',
  },
  {
    name: 'Tabs',
    category: 'Navigation',
    description: 'Tabbed navigation container',
    icon: 'panel-top',
    props: [
      { name: 'orientation', type: 'select', required: false, defaultValue: 'horizontal', description: 'Tab orientation', options: ['horizontal', 'vertical'] },
    ],
    events: [],
    acceptsChildren: true,
    childrenTypes: ['TabPanel'],
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px"><div style="display:flex;gap:4px;border-bottom:1px solid #444;padding-bottom:4px"><span style="color:#3b82f6;font-size:11px">Tab 1</span><span style="color:#666;font-size:11px">Tab 2</span></div></div>',
  },
  {
    name: 'TabPanel',
    category: 'Navigation',
    description: 'Individual tab and its content',
    icon: 'square',
    props: [
      { name: 'id', type: 'string', required: true, defaultValue: 'tab-1', description: 'Unique tab ID', placeholder: 'tab-id' },
      { name: 'label', type: 'string', required: true, defaultValue: 'Tab', description: 'Tab label', placeholder: 'Tab label' },
      { name: 'active', type: 'boolean', required: false, defaultValue: false, description: 'Active tab' },
      createDisabledProp(),
    ],
    events: [...clickEvents],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px;font-size:11px">TabPanel</div>',
  },
  {
    name: 'Pagination',
    category: 'Navigation',
    description: 'Page navigation',
    icon: 'more-horizontal',
    props: [
      { name: 'currentPage', type: 'number', required: false, defaultValue: 1, description: 'Current page' },
      { name: 'totalPages', type: 'number', required: false, defaultValue: 10, description: 'Total pages' },
      { name: 'showFirstLast', type: 'boolean', required: false, defaultValue: true, description: 'Show first/last buttons' },
    ],
    events: [{ name: 'onPageChange', description: 'Page changed', eventObjectProps: ['page'] }],
    acceptsChildren: false,
    preview: '<div style="display:flex;gap:4px;font-size:11px"><span style="padding:2px 6px;background:#3b82f6;color:white;border-radius:2px">1</span><span style="padding:2px 6px;color:#888">2</span><span style="padding:2px 6px;color:#888">3</span></div>',
  },
  {
    name: 'Menu',
    category: 'Navigation',
    description: 'Dropdown menu container',
    icon: 'menu',
    props: [],
    events: [],
    acceptsChildren: true,
    childrenTypes: ['MenuItem'],
    preview: '<div style="border:1px solid #444;background:#1f2937;padding:4px;border-radius:4px"><div style="padding:4px 8px;font-size:11px;color:#ccc">Menu Item</div></div>',
  },
  {
    name: 'MenuItem',
    category: 'Navigation',
    description: 'Menu item',
    icon: 'chevron-right',
    props: [
      { name: 'text', type: 'string', required: false, defaultValue: 'Menu Item', description: 'Item text', placeholder: 'Item text' },
      createDisabledProp(),
      createVariantProp(['default', 'danger'], 'default'),
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<div style="padding:4px 8px;font-size:11px;color:#ccc">MenuItem</div>',
  },
  {
    name: 'Sidebar',
    category: 'Navigation',
    description: 'Side navigation panel',
    icon: 'panel-left',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px;min-height:60px"><span style="font-size:10px;color:#666">Sidebar</span></div>',
  },
  {
    name: 'BackToTop',
    category: 'Navigation',
    description: 'Scroll to top button',
    icon: 'arrow-up',
    props: [
      { name: 'showAfter', type: 'number', required: false, defaultValue: 300, description: 'Show after scrolling (px)' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<button style="background:#3b82f6;color:white;border:none;padding:8px;border-radius:50%;width:32px;height:32px">^</button>',
  },
  {
    name: 'SkipLink',
    category: 'Navigation',
    description: 'Accessibility skip link',
    icon: 'skip-forward',
    props: [
      { name: 'href', type: 'string', required: true, defaultValue: '#main', description: 'Target element ID', placeholder: '#main' },
      { name: 'text', type: 'string', required: false, defaultValue: 'Skip to main content', description: 'Link text' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<a style="color:#3b82f6;font-size:11px">Skip to main</a>',
  },

  // ============ DATA DISPLAY COMPONENTS ============
  {
    name: 'Card',
    category: 'Data Display',
    description: 'Content card container',
    icon: 'credit-card',
    props: [],
    events: [...clickEvents],
    acceptsChildren: true,
    childrenTypes: ['CardHeader', 'CardBody', 'CardFooter'],
    preview: '<div style="border:1px solid #444;background:#1f2937;padding:8px;border-radius:8px"><span style="font-size:11px;color:#ccc">Card</span></div>',
  },
  {
    name: 'CardHeader',
    category: 'Data Display',
    description: 'Card header section',
    icon: 'panel-top',
    props: [
      { name: 'title', type: 'string', required: false, defaultValue: 'Card Title', description: 'Header title', placeholder: 'Title' },
      { name: 'subtitle', type: 'string', required: false, description: 'Header subtitle', placeholder: 'Subtitle' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border-bottom:1px solid #444;padding-bottom:4px;margin-bottom:4px"><span style="font-weight:bold;font-size:12px">Header</span></div>',
  },
  {
    name: 'CardBody',
    category: 'Data Display',
    description: 'Card content area',
    icon: 'square',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<div style="padding:4px 0;font-size:11px;color:#aaa">Body</div>',
  },
  {
    name: 'CardFooter',
    category: 'Data Display',
    description: 'Card footer/actions area',
    icon: 'panel-bottom',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border-top:1px solid #444;padding-top:4px;margin-top:4px"><span style="font-size:11px;color:#888">Footer</span></div>',
  },
  {
    name: 'Table',
    category: 'Data Display',
    description: 'Data table',
    icon: 'table',
    props: [
      { name: 'headers', type: 'array', required: false, defaultValue: ['Name', 'Value'], description: 'Table headers' },
      { name: 'rows', type: 'array', required: false, defaultValue: [['Item 1', '100'], ['Item 2', '200']], description: 'Table rows' },
      { name: 'striped', type: 'boolean', required: false, defaultValue: false, description: 'Striped rows' },
      { name: 'hoverable', type: 'boolean', required: false, defaultValue: false, description: 'Hover effect' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<table style="width:100%;font-size:10px;border-collapse:collapse"><tr style="border-bottom:1px solid #444"><th style="text-align:left;padding:2px">Col</th><th style="text-align:left;padding:2px">Col</th></tr><tr><td style="padding:2px">A</td><td style="padding:2px">B</td></tr></table>',
  },
  {
    name: 'Avatar',
    category: 'Data Display',
    description: 'User avatar image',
    icon: 'user-circle',
    props: [
      { name: 'src', type: 'string', required: false, description: 'Image URL', placeholder: 'https://...' },
      { name: 'name', type: 'string', required: false, defaultValue: 'User', description: 'User name (for initials)', placeholder: 'Name' },
      createSizeProp(),
      { name: 'online', type: 'boolean', required: false, defaultValue: false, description: 'Show online indicator' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<div style="width:32px;height:32px;background:#3b82f6;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:12px">U</div>',
  },
  {
    name: 'Stat',
    category: 'Data Display',
    description: 'Statistics display',
    icon: 'trending-up',
    props: [
      { name: 'label', type: 'string', required: false, defaultValue: 'Stat', description: 'Stat label', placeholder: 'Label' },
      { name: 'value', type: 'string', required: false, defaultValue: '100', description: 'Stat value', placeholder: '100' },
      { name: 'change', type: 'string', required: false, description: 'Change indicator', placeholder: '+10%' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div><span style="font-size:10px;color:#888">Stat</span><div style="font-size:16px;font-weight:bold">100</div></div>',
  },
  {
    name: 'Tag',
    category: 'Data Display',
    description: 'Category/label tag',
    icon: 'tag',
    props: [
      { name: 'text', type: 'string', required: true, defaultValue: 'Tag', description: 'Tag text', placeholder: 'Tag' },
      { name: 'color', type: 'color', required: false, defaultValue: '#3b82f6', description: 'Tag color' },
      { name: 'removable', type: 'boolean', required: false, defaultValue: false, description: 'Show remove button' },
    ],
    events: [{ name: 'onRemove', description: 'Tag removed', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<span style="background:#3b82f6;color:white;padding:2px 8px;border-radius:4px;font-size:10px">Tag</span>',
  },
  {
    name: 'Tooltip',
    category: 'Data Display',
    description: 'Hover tooltip',
    icon: 'message-circle',
    props: [
      { name: 'text', type: 'string', required: true, defaultValue: 'Tooltip text', description: 'Tooltip content', placeholder: 'Tooltip' },
      { name: 'position', type: 'select', required: false, defaultValue: 'top', description: 'Tooltip position', options: ['top', 'bottom', 'left', 'right'] },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="position:relative;display:inline-block"><span style="font-size:11px">Hover</span><div style="position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:#1f2937;color:white;padding:4px 8px;border-radius:4px;font-size:10px;white-space:nowrap">Tooltip</div></div>',
  },
  {
    name: 'TimeAgo',
    category: 'Data Display',
    description: 'Relative time display',
    icon: 'clock',
    props: [
      { name: 'date', type: 'expression', required: true, defaultValue: 'new Date()', description: 'Date value', placeholder: 'dateValue' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<span style="font-size:11px;color:#888">2 hours ago</span>',
  },
  {
    name: 'DateDisplay',
    category: 'Data Display',
    description: 'Formatted date display',
    icon: 'calendar',
    props: [
      { name: 'date', type: 'expression', required: true, defaultValue: 'new Date()', description: 'Date value', placeholder: 'dateValue' },
      { name: 'format', type: 'string', required: false, defaultValue: 'MMM DD, YYYY', description: 'Date format', placeholder: 'MMM DD, YYYY' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<span style="font-size:11px;color:#ccc">Jan 25, 2026</span>',
  },
  {
    name: 'Calendar',
    category: 'Data Display',
    description: 'Calendar/date picker',
    icon: 'calendar-days',
    props: [
      { name: 'selectedDate', type: 'expression', required: false, description: 'Selected date', placeholder: 'selectedDate' },
      { name: 'minDate', type: 'expression', required: false, description: 'Minimum date', placeholder: 'minDate' },
      { name: 'maxDate', type: 'expression', required: false, description: 'Maximum date', placeholder: 'maxDate' },
    ],
    events: [{ name: 'onDateSelect', description: 'Date selected', eventObjectProps: ['date'] }],
    acceptsChildren: false,
    preview: '<div style="border:1px solid #444;padding:8px;border-radius:4px;font-size:10px">Calendar</div>',
  },
  {
    name: 'MiniChart',
    category: 'Data Display',
    description: 'Simple inline chart',
    icon: 'line-chart',
    props: [
      { name: 'data', type: 'array', required: false, defaultValue: [10, 25, 15, 30, 20], description: 'Chart data points' },
      { name: 'type', type: 'select', required: false, defaultValue: 'line', description: 'Chart type', options: ['line', 'bar'] },
      { name: 'color', type: 'color', required: false, defaultValue: '#3b82f6', description: 'Chart color' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="display:flex;align-items:end;gap:2px;height:24px"><div style="width:4px;height:10px;background:#3b82f6"></div><div style="width:4px;height:20px;background:#3b82f6"></div><div style="width:4px;height:15px;background:#3b82f6"></div><div style="width:4px;height:24px;background:#3b82f6"></div></div>',
  },

  // ============ MEDIA COMPONENTS ============
  {
    name: 'Image',
    category: 'Media',
    description: 'Responsive image',
    icon: 'image',
    props: [
      { name: 'src', type: 'string', required: true, defaultValue: '', description: 'Image URL', placeholder: 'https://...' },
      { name: 'alt', type: 'string', required: true, defaultValue: 'Image', description: 'Alt text', placeholder: 'Description' },
      { name: 'width', type: 'string', required: false, description: 'Width', placeholder: '100%' },
      { name: 'height', type: 'string', required: false, description: 'Height', placeholder: 'auto' },
      { name: 'fit', type: 'select', required: false, defaultValue: 'cover', description: 'Object fit', options: ['cover', 'contain', 'fill', 'none'] },
      { name: 'lazy', type: 'boolean', required: false, defaultValue: true, description: 'Lazy load' },
    ],
    events: [{ name: 'onLoad', description: 'Image loaded', eventObjectProps: [] }, { name: 'onError', description: 'Load error', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="width:60px;height:40px;background:#333;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#666;font-size:10px">Image</div>',
  },
  {
    name: 'Video',
    category: 'Media',
    description: 'Video player',
    icon: 'video',
    props: [
      { name: 'src', type: 'string', required: true, defaultValue: '', description: 'Video URL', placeholder: 'https://...' },
      { name: 'poster', type: 'string', required: false, description: 'Poster image URL', placeholder: 'https://...' },
      { name: 'autoplay', type: 'boolean', required: false, defaultValue: false, description: 'Auto play' },
      { name: 'muted', type: 'boolean', required: false, defaultValue: false, description: 'Muted' },
      { name: 'loop', type: 'boolean', required: false, defaultValue: false, description: 'Loop video' },
      { name: 'controls', type: 'boolean', required: false, defaultValue: true, description: 'Show controls' },
    ],
    events: [{ name: 'onPlay', description: 'Video playing', eventObjectProps: [] }, { name: 'onPause', description: 'Video paused', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="width:80px;height:45px;background:#333;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#666;font-size:10px">Video</div>',
  },
  {
    name: 'Icon',
    category: 'Media',
    description: 'Icon component',
    icon: 'star',
    props: [
      { name: 'name', type: 'select', required: true, defaultValue: 'home', description: 'Icon name', options: ['home', 'settings', 'user', 'search', 'menu', 'close', 'check', 'warning', 'info', 'plus', 'minus', 'edit', 'trash', 'download', 'upload', 'arrow-left', 'arrow-right', 'arrow-up', 'arrow-down', 'heart', 'star', 'mail', 'phone', 'calendar', 'clock'] },
      createSizeProp(),
      { name: 'color', type: 'color', required: false, description: 'Icon color' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<span style="font-size:16px">*</span>',
  },
  {
    name: 'Carousel',
    category: 'Media',
    description: 'Image carousel/slider',
    icon: 'gallery-horizontal',
    props: [
      { name: 'autoplay', type: 'boolean', required: false, defaultValue: false, description: 'Auto play slides' },
      { name: 'interval', type: 'number', required: false, defaultValue: 3000, description: 'Slide interval (ms)' },
      { name: 'showDots', type: 'boolean', required: false, defaultValue: true, description: 'Show navigation dots' },
      { name: 'showArrows', type: 'boolean', required: false, defaultValue: true, description: 'Show prev/next arrows' },
    ],
    events: [{ name: 'onSlideChange', description: 'Slide changed', eventObjectProps: ['index'] }],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px;position:relative"><span style="font-size:11px">Carousel</span><div style="display:flex;justify-content:center;gap:4px;margin-top:4px"><span style="width:6px;height:6px;background:#3b82f6;border-radius:50%"></span><span style="width:6px;height:6px;background:#444;border-radius:50%"></span></div></div>',
  },
  {
    name: 'Logo',
    category: 'Media',
    description: 'Logo with dark mode support',
    icon: 'hexagon',
    props: [
      { name: 'src', type: 'string', required: true, defaultValue: '', description: 'Logo image URL', placeholder: 'https://...' },
      { name: 'alt', type: 'string', required: false, defaultValue: 'Logo', description: 'Alt text', placeholder: 'Company Logo' },
      { name: 'width', type: 'string', required: false, defaultValue: '120px', description: 'Logo width', placeholder: '120px' },
      { name: 'darkSrc', type: 'string', required: false, description: 'Dark mode logo URL', placeholder: 'https://...' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="width:60px;height:24px;background:#333;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#888">Logo</div>',
  },

  // ============ OVERLAY COMPONENTS ============
  {
    name: 'Modal',
    category: 'Overlay',
    description: 'Dialog modal',
    icon: 'square-stack',
    props: [
      { name: 'open', type: 'expression', required: true, defaultValue: 'false', description: 'Open state', placeholder: 'isModalOpen' },
      createSizeProp(),
    ],
    events: [{ name: 'onClose', description: 'Modal closed', eventObjectProps: [] }],
    acceptsChildren: true,
    childrenTypes: ['ModalHeader', 'ModalBody', 'ModalFooter'],
    preview: '<div style="border:1px solid #444;background:#1f2937;padding:8px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.4)"><span style="font-size:11px">Modal</span></div>',
  },
  {
    name: 'ModalHeader',
    category: 'Overlay',
    description: 'Modal header with title',
    icon: 'panel-top',
    props: [
      { name: 'title', type: 'string', required: false, defaultValue: 'Modal Title', description: 'Header title', placeholder: 'Title' },
      { name: 'showClose', type: 'boolean', required: false, defaultValue: true, description: 'Show close button' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="border-bottom:1px solid #444;padding-bottom:4px;font-weight:bold;font-size:12px">Header</div>',
  },
  {
    name: 'ModalBody',
    category: 'Overlay',
    description: 'Modal content area',
    icon: 'square',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<div style="padding:8px 0;font-size:11px;color:#aaa">Body</div>',
  },
  {
    name: 'ModalFooter',
    category: 'Overlay',
    description: 'Modal footer/actions',
    icon: 'panel-bottom',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border-top:1px solid #444;padding-top:4px;display:flex;justify-content:flex-end;gap:4px"><span style="font-size:10px;color:#888">Footer</span></div>',
  },
  {
    name: 'Drawer',
    category: 'Overlay',
    description: 'Slide-in panel',
    icon: 'panel-right',
    props: [
      { name: 'open', type: 'expression', required: true, defaultValue: 'false', description: 'Open state', placeholder: 'isDrawerOpen' },
      { name: 'position', type: 'select', required: false, defaultValue: 'right', description: 'Slide position', options: ['left', 'right', 'top', 'bottom'] },
      createSizeProp(),
    ],
    events: [{ name: 'onClose', description: 'Drawer closed', eventObjectProps: [] }],
    acceptsChildren: true,
    preview: '<div style="border:1px solid #444;background:#1f2937;padding:8px;border-radius:4px"><span style="font-size:11px">Drawer</span></div>',
  },
  {
    name: 'Popover',
    category: 'Overlay',
    description: 'Contextual popup',
    icon: 'message-square',
    props: [
      { name: 'open', type: 'expression', required: true, defaultValue: 'false', description: 'Open state', placeholder: 'isPopoverOpen' },
      { name: 'trigger', type: 'select', required: false, defaultValue: 'click', description: 'Trigger type', options: ['click', 'hover'] },
      { name: 'position', type: 'select', required: false, defaultValue: 'bottom', description: 'Position', options: ['top', 'bottom', 'left', 'right'] },
    ],
    events: [{ name: 'onOpenChange', description: 'Open state changed', eventObjectProps: ['open'] }],
    acceptsChildren: true,
    preview: '<div style="border:1px solid #444;background:#1f2937;padding:4px 8px;border-radius:4px;font-size:11px">Popover</div>',
  },
  {
    name: 'Dropdown',
    category: 'Overlay',
    description: 'Dropdown menu',
    icon: 'chevron-down',
    props: [
      { name: 'open', type: 'expression', required: true, defaultValue: 'false', description: 'Open state', placeholder: 'isDropdownOpen' },
      { name: 'trigger', type: 'select', required: false, defaultValue: 'click', description: 'Trigger type', options: ['click', 'hover'] },
      { name: 'align', type: 'select', required: false, defaultValue: 'start', description: 'Alignment', options: ['start', 'center', 'end'] },
    ],
    events: [{ name: 'onOpenChange', description: 'Open state changed', eventObjectProps: ['open'] }],
    acceptsChildren: true,
    preview: '<div style="border:1px solid #444;background:#1f2937;padding:4px;border-radius:4px"><div style="padding:4px 8px;font-size:11px">Item 1</div><div style="padding:4px 8px;font-size:11px;color:#888">Item 2</div></div>',
  },
  {
    name: 'Portal',
    category: 'Overlay',
    description: 'Render outside DOM hierarchy',
    icon: 'external-link',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px;font-size:11px">Portal</div>',
  },
  {
    name: 'Collapse',
    category: 'Overlay',
    description: 'Collapsible content',
    icon: 'chevron-down',
    props: [
      { name: 'open', type: 'expression', required: true, defaultValue: 'true', description: 'Open state', placeholder: 'isOpen' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:8px;border-radius:4px;font-size:11px">Collapse</div>',
  },
  {
    name: 'Accordion',
    category: 'Overlay',
    description: 'Collapsible sections',
    icon: 'list-collapse',
    props: [
      { name: 'allowMultiple', type: 'boolean', required: false, defaultValue: false, description: 'Allow multiple open' },
    ],
    events: [],
    acceptsChildren: true,
    childrenTypes: ['AccordionItem'],
    preview: '<div style="border:1px solid #444;border-radius:4px;overflow:hidden"><div style="padding:8px;border-bottom:1px solid #444;font-size:11px">Section 1</div><div style="padding:8px;font-size:11px;color:#888">Section 2</div></div>',
  },
  {
    name: 'AccordionItem',
    category: 'Overlay',
    description: 'Accordion section',
    icon: 'chevron-right',
    props: [
      { name: 'title', type: 'string', required: true, defaultValue: 'Section', description: 'Section title', placeholder: 'Title' },
      { name: 'defaultOpen', type: 'boolean', required: false, defaultValue: false, description: 'Open by default' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="padding:8px;border:1px solid #444;border-radius:4px;font-size:11px">AccordionItem</div>',
  },

  // ============ E-COMMERCE COMPONENTS ============
  {
    name: 'PriceTag',
    category: 'E-commerce',
    description: 'Formatted price display',
    icon: 'dollar-sign',
    props: [
      { name: 'amount', type: 'number', required: true, defaultValue: 99.99, description: 'Price amount' },
      { name: 'currency', type: 'string', required: false, defaultValue: 'USD', description: 'Currency code' },
      { name: 'originalAmount', type: 'number', required: false, description: 'Original price (for sales)' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<span style="font-size:14px;font-weight:bold;color:#10b981">$99.99</span>',
  },
  {
    name: 'ProductCard',
    category: 'E-commerce',
    description: 'Product display card',
    icon: 'shopping-bag',
    props: [
      { name: 'name', type: 'string', required: true, defaultValue: 'Product Name', description: 'Product name', placeholder: 'Name' },
      { name: 'price', type: 'number', required: true, defaultValue: 49.99, description: 'Price' },
      { name: 'image', type: 'string', required: false, description: 'Product image URL', placeholder: 'https://...' },
      { name: 'rating', type: 'number', required: false, description: 'Rating (1-5)' },
      { name: 'originalPrice', type: 'number', required: false, description: 'Original price' },
      { name: 'badge', type: 'string', required: false, description: 'Badge text (e.g., "Sale")', placeholder: 'Sale' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<div style="border:1px solid #444;border-radius:8px;padding:8px;width:80px"><div style="height:40px;background:#333;border-radius:4px;margin-bottom:4px"></div><div style="font-size:10px;font-weight:bold">Product</div><div style="font-size:11px;color:#10b981">$49.99</div></div>',
  },
  {
    name: 'CartItem',
    category: 'E-commerce',
    description: 'Shopping cart item',
    icon: 'shopping-cart',
    props: [
      { name: 'name', type: 'string', required: true, defaultValue: 'Item', description: 'Item name', placeholder: 'Name' },
      { name: 'price', type: 'number', required: true, defaultValue: 29.99, description: 'Price' },
      { name: 'quantity', type: 'number', required: false, defaultValue: 1, description: 'Quantity' },
      { name: 'image', type: 'string', required: false, description: 'Item image URL', placeholder: 'https://...' },
    ],
    events: [{ name: 'onQuantityChange', description: 'Quantity changed', eventObjectProps: ['quantity'] }, { name: 'onRemove', description: 'Item removed', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="display:flex;gap:8px;align-items:center;padding:8px;border:1px solid #444;border-radius:4px"><div style="width:32px;height:32px;background:#333;border-radius:4px"></div><div><div style="font-size:11px">Item</div><div style="font-size:10px;color:#888">$29.99</div></div></div>',
  },
  {
    name: 'QuantitySelector',
    category: 'E-commerce',
    description: 'Quantity input control',
    icon: 'plus-minus',
    props: [
      { name: 'value', type: 'expression', required: false, defaultValue: '1', description: 'Current quantity', placeholder: 'quantity' },
      { name: 'min', type: 'number', required: false, defaultValue: 1, description: 'Minimum value' },
      { name: 'max', type: 'number', required: false, defaultValue: 99, description: 'Maximum value' },
    ],
    events: [{ name: 'onChange', description: 'Quantity changed', eventObjectProps: ['value'] }],
    acceptsChildren: false,
    preview: '<div style="display:flex;align-items:center;gap:4px"><button style="width:20px;height:20px;background:#333;border:1px solid #555;color:#fff;border-radius:2px">-</button><span style="font-size:11px;padding:0 4px">1</span><button style="width:20px;height:20px;background:#333;border:1px solid #555;color:#fff;border-radius:2px">+</button></div>',
  },

  // ============ SOCIAL COMPONENTS ============
  {
    name: 'UserCard',
    category: 'Social',
    description: 'User profile card',
    icon: 'user',
    props: [
      { name: 'name', type: 'string', required: true, defaultValue: 'John Doe', description: 'User name', placeholder: 'Name' },
      { name: 'avatar', type: 'string', required: false, description: 'Avatar URL', placeholder: 'https://...' },
      { name: 'role', type: 'string', required: false, description: 'User role/title', placeholder: 'Developer' },
      { name: 'verified', type: 'boolean', required: false, defaultValue: false, description: 'Show verified badge' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<div style="display:flex;gap:8px;align-items:center;padding:8px;border:1px solid #444;border-radius:8px"><div style="width:32px;height:32px;background:#3b82f6;border-radius:50%"></div><div><div style="font-size:11px;font-weight:bold">John Doe</div><div style="font-size:10px;color:#888">Developer</div></div></div>',
  },
  {
    name: 'Comment',
    category: 'Social',
    description: 'User comment',
    icon: 'message-circle',
    props: [
      { name: 'author', type: 'string', required: true, defaultValue: 'User', description: 'Author name', placeholder: 'Name' },
      { name: 'avatar', type: 'string', required: false, description: 'Avatar URL', placeholder: 'https://...' },
      { name: 'content', type: 'string', required: true, defaultValue: 'Comment text', description: 'Comment content', placeholder: 'Comment...' },
      { name: 'timestamp', type: 'expression', required: false, description: 'Comment time', placeholder: 'new Date()' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="padding:8px;border:1px solid #444;border-radius:8px"><div style="display:flex;gap:4px;align-items:center;margin-bottom:4px"><div style="width:20px;height:20px;background:#3b82f6;border-radius:50%"></div><span style="font-size:10px;font-weight:bold">User</span></div><p style="margin:0;font-size:11px;color:#aaa">Comment text</p></div>',
  },
  {
    name: 'SocialShare',
    category: 'Social',
    description: 'Social share buttons',
    icon: 'share-2',
    props: [
      { name: 'url', type: 'string', required: true, defaultValue: '', description: 'URL to share', placeholder: 'https://...' },
      { name: 'title', type: 'string', required: false, defaultValue: '', description: 'Share title', placeholder: 'Title' },
      { name: 'platforms', type: 'array', required: false, defaultValue: ['twitter', 'facebook', 'linkedin'], description: 'Platforms to show' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="display:flex;gap:4px"><span style="width:24px;height:24px;background:#333;border-radius:4px"></span><span style="width:24px;height:24px;background:#333;border-radius:4px"></span><span style="width:24px;height:24px;background:#333;border-radius:4px"></span></div>',
  },
  {
    name: 'LikeButton',
    category: 'Social',
    description: 'Like/favorite button',
    icon: 'heart',
    props: [
      { name: 'count', type: 'number', required: false, defaultValue: 0, description: 'Like count' },
      { name: 'liked', type: 'expression', required: false, defaultValue: 'false', description: 'Liked state', placeholder: 'isLiked' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<button style="display:flex;align-items:center;gap:4px;background:transparent;border:1px solid #444;color:#ef4444;padding:4px 8px;border-radius:4px;font-size:11px"> 42</button>',
  },
  {
    name: 'FollowButton',
    category: 'Social',
    description: 'Follow/unfollow button',
    icon: 'user-plus',
    props: [
      { name: 'following', type: 'expression', required: false, defaultValue: 'false', description: 'Following state', placeholder: 'isFollowing' },
      { name: 'count', type: 'number', required: false, description: 'Follower count' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<button style="background:#3b82f6;color:white;border:none;padding:4px 12px;border-radius:4px;font-size:11px">Follow</button>',
  },
  {
    name: 'ChatBubble',
    category: 'Social',
    description: 'Chat message bubble',
    icon: 'message-square',
    props: [
      { name: 'message', type: 'string', required: true, defaultValue: 'Hello!', description: 'Message content', placeholder: 'Message' },
      { name: 'sender', type: 'select', required: false, defaultValue: 'them', description: 'Message sender', options: ['me', 'them'] },
      { name: 'timestamp', type: 'expression', required: false, description: 'Message time', placeholder: 'new Date()' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="background:#3b82f6;color:white;padding:8px 12px;border-radius:12px 12px 12px 4px;font-size:11px;max-width:80px">Hello!</div>',
  },
  {
    name: 'MessageInput',
    category: 'Social',
    description: 'Chat message input',
    icon: 'send',
    props: [
      { name: 'value', type: 'expression', required: false, description: 'Input value', placeholder: 'message' },
      { name: 'placeholder', type: 'string', required: false, defaultValue: 'Type a message...', description: 'Placeholder text' },
    ],
    events: [...inputEvents, { name: 'onSend', description: 'Message sent', eventObjectProps: ['message'] }],
    acceptsChildren: false,
    preview: '<div style="display:flex;gap:4px"><input type="text" placeholder="Type..." style="flex:1;background:#333;border:1px solid #555;color:#fff;padding:6px;border-radius:4px;font-size:11px" /><button style="background:#3b82f6;color:white;border:none;padding:6px 12px;border-radius:4px"></button></div>',
  },

  // ============ MARKETING COMPONENTS ============
  {
    name: 'Hero',
    category: 'Marketing',
    description: 'Full-width hero section',
    icon: 'layout',
    props: [
      { name: 'title', type: 'string', required: false, defaultValue: 'Hero Title', description: 'Main title', placeholder: 'Title' },
      { name: 'subtitle', type: 'string', required: false, description: 'Subtitle text', placeholder: 'Subtitle' },
      { name: 'background', type: 'string', required: false, description: 'Background image/color', placeholder: '#000 or url(...)' },
      { name: 'align', type: 'select', required: false, defaultValue: 'center', description: 'Content alignment', options: ['left', 'center', 'right'] },
      { name: 'height', type: 'string', required: false, defaultValue: '400px', description: 'Section height', placeholder: '400px' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="background:linear-gradient(135deg,#1e3a5f,#3b82f6);padding:16px;border-radius:8px;text-align:center"><span style="font-size:14px;font-weight:bold;color:white">Hero</span><p style="margin:4px 0 0;font-size:10px;color:#93c5fd">Subtitle</p></div>',
  },
  {
    name: 'Feature',
    category: 'Marketing',
    description: 'Feature highlight',
    icon: 'zap',
    props: [
      { name: 'icon', type: 'string', required: false, defaultValue: 'star', description: 'Feature icon', placeholder: 'star' },
      { name: 'title', type: 'string', required: true, defaultValue: 'Feature', description: 'Feature title', placeholder: 'Title' },
      { name: 'description', type: 'string', required: false, description: 'Feature description', placeholder: 'Description' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="text-align:center;padding:8px"><div style="width:32px;height:32px;background:#3b82f6;border-radius:8px;margin:0 auto 4px;display:flex;align-items:center;justify-content:center;color:white">*</div><div style="font-size:11px;font-weight:bold">Feature</div><div style="font-size:10px;color:#888">Description</div></div>',
  },
  {
    name: 'Testimonial',
    category: 'Marketing',
    description: 'Customer testimonial',
    icon: 'quote',
    props: [
      { name: 'quote', type: 'string', required: true, defaultValue: 'Great product!', description: 'Quote text', placeholder: 'Quote' },
      { name: 'author', type: 'string', required: true, defaultValue: 'John Doe', description: 'Author name', placeholder: 'Name' },
      { name: 'role', type: 'string', required: false, description: 'Author role', placeholder: 'CEO' },
      { name: 'avatar', type: 'string', required: false, description: 'Avatar URL', placeholder: 'https://...' },
      { name: 'rating', type: 'number', required: false, description: 'Star rating (1-5)' },
    ],
    events: [],
    acceptsChildren: false,
    preview: '<div style="padding:12px;border:1px solid #444;border-radius:8px"><p style="margin:0 0 8px;font-style:italic;font-size:11px;color:#aaa">"Great product!"</p><div style="display:flex;gap:4px;align-items:center"><div style="width:24px;height:24px;background:#3b82f6;border-radius:50%"></div><div><div style="font-size:10px;font-weight:bold">John</div><div style="font-size:9px;color:#888">CEO</div></div></div></div>',
  },
  {
    name: 'PricingCard',
    category: 'Marketing',
    description: 'Pricing tier card',
    icon: 'credit-card',
    props: [
      { name: 'name', type: 'string', required: true, defaultValue: 'Pro', description: 'Plan name', placeholder: 'Plan' },
      { name: 'price', type: 'number', required: true, defaultValue: 29, description: 'Price' },
      { name: 'period', type: 'string', required: false, defaultValue: 'month', description: 'Billing period', placeholder: 'month' },
      { name: 'features', type: 'array', required: false, defaultValue: ['Feature 1', 'Feature 2', 'Feature 3'], description: 'Feature list' },
      { name: 'highlighted', type: 'boolean', required: false, defaultValue: false, description: 'Highlight this plan' },
      { name: 'badge', type: 'string', required: false, description: 'Badge text', placeholder: 'Popular' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<div style="padding:12px;border:1px solid #3b82f6;border-radius:8px;text-align:center"><div style="font-size:12px;font-weight:bold">Pro</div><div style="font-size:18px;font-weight:bold;color:#3b82f6;margin:4px 0">$29<span style="font-size:10px;color:#888">/mo</span></div><ul style="margin:8px 0 0;padding-left:16px;font-size:10px;color:#aaa;text-align:left"><li>Feature 1</li><li>Feature 2</li></ul></div>',
  },
  {
    name: 'CTA',
    category: 'Marketing',
    description: 'Call-to-action section',
    icon: 'megaphone',
    props: [
      { name: 'title', type: 'string', required: true, defaultValue: 'Get Started Today', description: 'CTA title', placeholder: 'Title' },
      { name: 'subtitle', type: 'string', required: false, description: 'CTA subtitle', placeholder: 'Subtitle' },
      { name: 'background', type: 'string', required: false, defaultValue: '#3b82f6', description: 'Background color' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="background:#3b82f6;padding:12px;border-radius:8px;text-align:center"><div style="font-size:12px;font-weight:bold;color:white">Get Started</div><div style="font-size:10px;color:#93c5fd;margin-top:2px">Sign up now</div></div>',
  },

  // ============ UTILITY COMPONENTS ============
  {
    name: 'VisuallyHidden',
    category: 'Utility',
    description: 'Hidden but accessible content',
    icon: 'eye-off',
    props: [
      { name: 'focusable', type: 'boolean', required: false, defaultValue: false, description: 'Visible on focus' },
    ],
    events: [],
    acceptsChildren: true,
    preview: '<div style="border:1px dashed #666;padding:4px;border-radius:4px;font-size:10px;color:#666">[Hidden]</div>',
  },
  {
    name: 'ScrollArea',
    category: 'Utility',
    description: 'Custom scrollable container',
    icon: 'scroll',
    props: [
      { name: 'height', type: 'string', required: false, defaultValue: '200px', description: 'Container height', placeholder: '200px' },
      { name: 'width', type: 'string', required: false, description: 'Container width', placeholder: '100%' },
    ],
    events: [{ name: 'onScroll', description: 'Scroll position changed', eventObjectProps: ['scrollTop', 'scrollLeft'] }],
    acceptsChildren: true,
    preview: '<div style="border:1px solid #444;border-radius:4px;height:40px;overflow:auto;padding:4px"><div style="height:80px;font-size:10px;color:#888">Scrollable content...</div></div>',
  },
  {
    name: 'ThemeToggle',
    category: 'Utility',
    description: 'Dark/light mode toggle',
    icon: 'sun-moon',
    props: [],
    events: [{ name: 'onToggle', description: 'Theme toggled', eventObjectProps: ['theme'] }],
    acceptsChildren: false,
    preview: '<button style="background:#333;border:1px solid #555;color:#fff;padding:6px;border-radius:4px;display:flex;align-items:center;justify-content:center;width:28px;height:28px"></button>',
  },
  {
    name: 'Hamburger',
    category: 'Utility',
    description: 'Animated menu icon',
    icon: 'menu',
    props: [
      { name: 'open', type: 'expression', required: false, defaultValue: 'false', description: 'Open state', placeholder: 'isMenuOpen' },
    ],
    events: [...clickEvents],
    acceptsChildren: false,
    preview: '<button style="background:transparent;border:none;padding:4px;display:flex;flex-direction:column;gap:3px"><span style="width:18px;height:2px;background:#fff"></span><span style="width:18px;height:2px;background:#fff"></span><span style="width:18px;height:2px;background:#fff"></span></button>',
  },
  {
    name: 'Footer',
    category: 'Utility',
    description: 'Page footer',
    icon: 'panel-bottom',
    props: [],
    events: [],
    acceptsChildren: true,
    preview: '<footer style="border-top:1px solid #444;padding:12px;text-align:center;font-size:10px;color:#888">Footer content</footer>',
  },
  {
    name: 'Announcement',
    category: 'Utility',
    description: 'Site-wide announcement banner',
    icon: 'megaphone',
    props: [
      { name: 'message', type: 'string', required: true, defaultValue: 'New feature available!', description: 'Announcement text', placeholder: 'Message' },
      { name: 'dismissible', type: 'boolean', required: false, defaultValue: true, description: 'Can be dismissed' },
      createVariantProp(['info', 'success', 'warning'], 'info'),
    ],
    events: [{ name: 'onDismiss', description: 'Dismissed', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="background:#1e3a5f;color:#93c5fd;padding:8px 12px;text-align:center;font-size:11px">New feature available!</div>',
  },
  {
    name: 'CookieBanner',
    category: 'Utility',
    description: 'Cookie consent banner',
    icon: 'cookie',
    props: [
      { name: 'message', type: 'string', required: false, defaultValue: 'We use cookies to improve your experience.', description: 'Banner message' },
    ],
    events: [{ name: 'onAccept', description: 'Cookies accepted', eventObjectProps: [] }, { name: 'onDecline', description: 'Cookies declined', eventObjectProps: [] }],
    acceptsChildren: false,
    preview: '<div style="background:#1f2937;border:1px solid #374151;padding:8px;border-radius:8px;font-size:10px"><div style="color:#ccc;margin-bottom:4px">We use cookies...</div><div style="display:flex;gap:4px"><button style="background:#3b82f6;color:white;border:none;padding:2px 8px;border-radius:4px;font-size:9px">Accept</button><button style="background:transparent;color:#888;border:1px solid #555;padding:2px 8px;border-radius:4px;font-size:9px">Decline</button></div></div>',
  },
];

// Helper functions
export function getComponentByName(name: string): ComponentDefinition | undefined {
  return FLUX_COMPONENTS.find(c => c.name === name);
}

export function getComponentsByCategory(category: ComponentCategory): ComponentDefinition[] {
  return FLUX_COMPONENTS.filter(c => c.category === category);
}

export function getAllCategories(): ComponentCategory[] {
  const categories = new Set<ComponentCategory>();
  FLUX_COMPONENTS.forEach(c => categories.add(c.category));
  return Array.from(categories);
}

export function searchComponents(query: string): ComponentDefinition[] {
  const q = query.toLowerCase();
  return FLUX_COMPONENTS.filter(
    c => c.name.toLowerCase().includes(q) || c.description.toLowerCase().includes(q)
  );
}
